---
title: 流水线stall的设计
published: true
---


两种方式选一：

1. chiplab的，上一级等下一级，一级一级串起来，一但后面的比如ex2卡住了，前面流水线全部停下。

2. 我自己cpu6的，if阶段有个stallF信号，后面阶段如果要stall，就去signal这个stallF，然后流水线里就产生泡泡。这样需要各级都很清楚哪里要stall，哪里要flush。


先看下opensparc是怎么做的。



